10 DIM l$(16,16)
20 FOR i=1 TO 16
30 FOR j=1 TO 16
40 LET l$(i,j)="0"
50 IF RND>=0.6 THEN LET l$(i,j)="1"
60 NEXT j
70 NEXT i
80 ORIGIN 4,12
90 CLS;CURSOR 0
1000 LET m=LEN l$(1)
1010 DIM n$(m,m)
1020 FOR i=0 TO m+1
1030 PRINT AT i,0;"x"
1040 PRINT AT i,m+1;"x"
1050 PRINT AT 0,i;"x"
1060 PRINT AT m+1,i;"x"
1070 NEXT i
1080 LET g=0
1090 PRINT AT 1,m+3;g
1100 FOR i=1 TO m
1110 FOR j=1 TO m
1120 IF l$(i,j)="0" THEN GOTO 1150
1130 PRINT AT i,j;"x"
1140 GOTO 1160
1150 PRINT AT i,j;" "
1160 NEXT j
1170 NEXT i
1180 FOR i=1 TO m
1190 FOR j=1 TO m
1200 LET n=0
1210 FOR k=i-1 TO i+1
1220 FOR l=j-1 TO j+1
1230 IF k=0 OR k>m OR l=0 OR l>m OR (k=i AND l=j) THEN GOTO 1250
1240 LET n=n+VAL l$(k,l)
1250 NEXT l
1260 NEXT k
1270 LET n$(i,j)=l$(i,j)
1280 IF n<=1 OR n>=4 THEN LET n$(i,j)="0"
1290 IF n=3 THEN LET n$(i,j)="1"
1300 NEXT j
1310 NEXT i
1320 FOR i=1 TO m
1330 LET l$(i)=n$(i)
1340 NEXT i
1350 LET g=g+1
1355 IF INKEY$ <> "" THEN 2000
1360 GOTO 1090
2000 CURSOR 1
2010 END
